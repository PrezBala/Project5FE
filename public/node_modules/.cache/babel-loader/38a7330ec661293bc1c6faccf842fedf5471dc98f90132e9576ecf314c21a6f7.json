{"ast":null,"code":"var _jsxFileName = \"/workspaces/Project5FE/movie-rater/src/components/movie-details.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faStar } from '@fortawesome/free-solid-svg-icons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction MovieDetails(props) {\n  _s();\n  const [highlighted, setHighlighted] = useState(-1);\n  let mov = props.movie;\n  const highlightRate = high => evt => {\n    setHighlighted(high);\n  };\n  const rateClicked = rate => evt => {\n    fetch(`http://3000-prezbala-project5fe-nwt8eqsjv4.us2.codeanyapp.com/api/movies/${mov.id}/rate_movie/`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Token 1585932fbeb3f2384cd08c6fe9438600f96e51fa'\n      },\n      body: JSON.stringify({\n        stars: rate + 1\n      })\n    }).then(() => getDetails()).catch(error => console.log(error));\n  };\n  const getDetails = () => {\n    fetch(`http://3000-prezbala-project5fe-nwt8eqsjv4.us2.codeanyapp.com/api/movies/${mov.id}/`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Token 1585932fbeb3f2384cd08c6fe9438600f96e51fa`\n      }\n    }).then(resp => resp.json()).then(resp => props.updateMovie(resp)).catch(error => console.log(error));\n  };\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: mov ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: mov.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: mov.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n        icon: faStar,\n        className: mov.avg_rating > 0 ? 'orange' : ''\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n        icon: faStar,\n        className: mov.avg_rating > 1 ? 'orange' : ''\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n        icon: faStar,\n        className: mov.avg_rating > 2 ? 'orange' : ''\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n        icon: faStar,\n        className: mov.avg_rating > 3 ? 'orange' : ''\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n        icon: faStar,\n        className: mov.avg_rating > 4 ? 'orange' : ''\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }, this), \"(\", mov.no_of_ratings, \")\", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rate-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Rate it\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 25\n        }, this), [...Array(5)].map((e, i) => {\n          return /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faStar,\n            className: highlighted > i - 1 ? 'purple' : '',\n            onMouseEnter: highlightRate(i),\n            onMouseLeave: highlightRate(-1),\n            onClick: rateClicked(i)\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 32\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }, this) : null\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n}\n_s(MovieDetails, \"WCRjcXk4Dtj8QRbxkWdiVQPlfh4=\");\n_c = MovieDetails;\nexport default MovieDetails;\nvar _c;\n$RefreshReg$(_c, \"MovieDetails\");","map":{"version":3,"names":["React","useState","FontAwesomeIcon","faStar","jsxDEV","_jsxDEV","MovieDetails","props","_s","highlighted","setHighlighted","mov","movie","highlightRate","high","evt","rateClicked","rate","fetch","id","method","headers","body","JSON","stringify","stars","then","getDetails","catch","error","console","log","resp","json","updateMovie","Fragment","children","title","fileName","_jsxFileName","lineNumber","columnNumber","description","icon","className","avg_rating","no_of_ratings","Array","map","e","i","onMouseEnter","onMouseLeave","onClick","_c","$RefreshReg$"],"sources":["/workspaces/Project5FE/movie-rater/src/components/movie-details.js"],"sourcesContent":["import React, {useState} from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faStar } from '@fortawesome/free-solid-svg-icons'\n\nfunction MovieDetails(props){\n\n    const [ highlighted, setHighlighted ] = useState(-1);\n\n    \n    let mov = props.movie;\n\n    const highlightRate = high => evt => {\n        setHighlighted(high);\n      }\n\n    const rateClicked = rate => evt => {\n        fetch(`http://3000-prezbala-project5fe-nwt8eqsjv4.us2.codeanyapp.com/api/movies/${mov.id}/rate_movie/`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json',\n              'Authorization': 'Token 1585932fbeb3f2384cd08c6fe9438600f96e51fa'\n            },\n            body: JSON.stringify( {stars: rate + 1} )\n\n        })\n\n        .then( () => getDetails())\n        .catch( error => console.log(error))\n    }\n    \n    const getDetails = () => {\n        fetch(`http://3000-prezbala-project5fe-nwt8eqsjv4.us2.codeanyapp.com/api/movies/${mov.id}/`, {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Token 1585932fbeb3f2384cd08c6fe9438600f96e51fa`\n          }\n        })\n        .then( resp => resp.json())\n        .then( resp => props.updateMovie(resp))\n        .catch( error => console.log(error))\n      }\n\n    return (\n        <React.Fragment>\n            { mov ? (\n                <div>\n                    <h1>{mov.title}</h1>\n                    <p>{mov.description}</p>\n                    <FontAwesomeIcon icon={faStar} className={mov.avg_rating > 0 ? 'orange':'' } />\n                    <FontAwesomeIcon icon={faStar} className={mov.avg_rating > 1 ? 'orange':'' } />\n                    <FontAwesomeIcon icon={faStar} className={mov.avg_rating > 2 ? 'orange':'' } />\n                    <FontAwesomeIcon icon={faStar} className={mov.avg_rating > 3 ? 'orange':'' } />\n                    <FontAwesomeIcon icon={faStar} className={mov.avg_rating > 4 ? 'orange':'' } />\n                    ({mov.no_of_ratings})\n                    <div className=\"rate-container\">\n                        <h2>Rate it</h2>\n                        { [...Array(5)].map( (e, i) => {\n                        return <FontAwesomeIcon key={i} icon={faStar} className={highlighted > i - 1 ? 'purple':''}\n                                onMouseEnter={highlightRate(i)}\n                                onMouseLeave={highlightRate(-1)}\n                                onClick={rateClicked(i)}\n                            />\n                        })}\n                    </div>\n                </div>\n            ) : null }\n        </React.Fragment>\n  )\n}\n\nexport default MovieDetails;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}